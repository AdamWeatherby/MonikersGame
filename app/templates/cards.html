<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

<title>Pseudonym</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<meta name="viewport" content="width=device-width, initial-scale=1" /> 

	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	<script>
		var cards = {{ cards | safe }}
		var numPlayers = cards.length/10;
		var pickedCards = [];
		var currentPlayer = 0;
		var currentCard = 0;
		var currentPickedCards = 0
		loadCards();


		function nextPlayer() {
			currentPlayer++;
			loadCards();
		}

		function loadCards() {
			currentCard = 0 + 10 * currentPlayer;
			document.getElementById('title').innerHTML = cards[currentCard]["title"]
			document.getElementById('description').innerHTML = cards[currentCard]["description"]
			document.getElementById('value').innerHTML = cards[currentCard]["value"]

			//disable back button
		}

		function changeCard(increment) {	
			if(increment == 1) {
				if(currentCard % 9 == 0 && currentCard != 0) //disable if last card in stack
					return;
				currentCard++;
				document.getElementById('title').innerHTML = cards[currentCard]["title"]
				document.getElementById('description').innerHTML = cards[currentCard]["description"]
				document.getElementById('value').innerHTML = cards[currentCard]["value"]
			}
			else {
				if(currentCard % 10 == 0) //disable if first card in stack
					return;
				currentCard--;
				document.getElementById('title').innerHTML = cards[currentCard]["title"]
				document.getElementById('description').innerHTML = cards[currentCard]["description"]
				document.getElementById('value').innerHTML = cards[currentCard]["value"]
			}
		}

		function pickCard() {
			if(currentCard in pickedCards)
				return;
			currentPickedCards++;
			pickedCards.push(currentCard)
			if(currentPickedCards == 5) {
				currentPickedCards = 0;
				if(currentPlayer == numPlayers) {
					//send data to flask and go to game
				}
				nextPlayer();
			}
		}
		
	</script>
	<style>
		.cardOutline {
			width: 48vh;
			height: 75vh; 
			text-align: center; 
			margin: 10px; 
			background: #FFF; 
			border-radius: 1vh
		}
		.description {
			width: 48vh;
			height: 65vh;
			overflow-y:auto;
			font-size: 2vh;
		}
		::-webkit-scrollbar {
			width: 0px;
			background: transparent; /* make scrollbar transparent */
		}
		.title{
			font-size: 5vh;
		}
	</style>
</head>

<body style="background-color: #1d3557">

	<div class="jumbotron" style = "background-color: #457b9d; padding-top: 5px; padding-bottom: 5px; border-radius: 5px">
		<br /><h1 align = "center" style = "color: #e63946">Pseudonym</h1><br />
	</div>

	
	<div align="center">
		<div class= "cardOutline" >
			<div class = "title" id="title">{{ title }}</div>
			<div class="description" id="description">The COVID-19 pandemic, also known as the coronavirus pandemic, is an ongoing pandemic of coronavirus disease 2019 (COVID‑19), caused by severe acute respiratory syndrome coronavirus 2 (SARS‑CoV‑2).[1] The outbreak was first identified in Wuhan, China, in December 2019.[4][6] However, the first case may be traced back to 17 November, 2019.[7] The World Health Organization declared the outbreak a public health emergency of international concern on 30 January, and a pandemic on 11 March.[8][9] As of 28 May 2020, more than 5.8 million cases of COVID-19 have been reported in more than 188 countries and territories, resulting in more than 359,000 deaths; more than 2.39 million people have recovered.[5] The virus is primarily spread between people during close contact,[c] most often via small droplets produced by coughing,[d] sneezing, and talking.[10][11][13] The droplets usually fall to the ground or onto surfaces rather than travelling through air over long distances.[10] Less commonly, people may become infected by touching a contaminated surface and then touching their face.[10][11] It is most contagious during the first three days after the onset of symptoms, although spread is possible before symptoms appear, and from people who do not show symptoms.[10][11]</div>
			<br />
		</div>
			Value:<div id= "value">{{ points }}</div><br />
			<div class="row">
				<div id="backButtonContainer" class="col-md-4">
					<button id="backButton" onclick="changeCard(0)">Previous Card</button>
				</div>
				<div id="pickCardContainer" class="col-md-4">
					<button id="pickButton" onclick="pickCard()">Select Card</button>
				</div>
				<div id="forwardButtonContainer" class="col-md-4">
					<button id="forwardButton" onclick="changeCard(1)">Next Card</button>
				</div>
			</div>
		</div>
	

</body>
</html>